<%-include('../layouts/adminHeader.ejs')%>
<%-include('../layouts/adminSidebar.ejs')%>

        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <br>
            <div class="container" style="display: flex; justify-content: right;">
                <a href="/admin/addProduct" class="btn btn-success">Add Product</a>
            </div>
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Products</h4>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">Name</th>
                                                <th scope="col">Price</th>
                                                <th scope="col">Category</th>
                                                <th scope="col">Quantity</th>
                                                <th scope="col">Images</th>
                                                <th scope="col">Action</th>
                                                <th scope="col">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <% if(Array.isArray(products) && products.length>0) { %>
                                                <% products.forEach(function(product, index) { %>
                                                    <tr>
                                                        <td><%= index + 1 %></td>
                                                        <td><%= product.name %></td>
                                                        <td><%= product.price %></td>
                                                        <td><%= product.category %></td>
                                                        <td><%= product.quantity %></td>
                                                        <td>
                                                            <img src="/uploads/<%= product.image[0] %>" alt="Product Image " class="product-image" style="width: 100px; height: 100px; border-radius: 50%;">
          
                                                            <!-- <img src="../../public/uploads/1706103041470-IMG_1663.jpg"> -->
                                                        </td>
                                                        <td>
                                                            <a href="/admin/editProduct" class="edit-product" data-productid="<%= product._id %>">
                                                                <i class="fas fa-edit"></i>
                                                            </a>
                                                        </td>
                                                    </tr>
                                                <% }); %>
                                            <% } else { %>
                                                <tr>
                                                    <td colspan="3">No Product Available</td>
                                                </tr>
                                            <% } %>
                                        </tbody>
                                    </table>
                                </div>
                                
           
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->


<%-include('../layouts/adminFooter.ejs')%>